(this.webpackJsonpdevit=this.webpackJsonpdevit||[]).push([[0],{126:function(e,t,a){e.exports=a(234)},131:function(e,t,a){},132:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(43),i=a.n(l),m=(a(131),a(132),a(93)),c=a(94),s=a(100),o=a(99),_=a(3),u=a.n(_),p=function(e){var t=e.item.img,a=new Image;return a.src=t,r.a.createElement("div",{className:u.a.gallery__item},r.a.createElement("div",{className:u.a.galleryItem__main},r.a.createElement("div",{className:u.a.galleryItem__img},r.a.createElement("img",{className:u.a.galleryItem__img__img,alt:"img",src:e.item.img}),r.a.createElement("div",{className:u.a.galleryItem__descr},r.a.createElement("a",{className:u.a.galleryItem__btn,href:e.item.img,download:e.item.img},"Download"),r.a.createElement("span",{className:u.a.itemText__first},"Title: ",r.a.createElement("span",{className:u.a.itemText__second}," ",e.item.title," ")),r.a.createElement("span",{className:u.a.itemText__first},"Description: ",r.a.createElement("span",{className:u.a.itemText__second},e.item.descr,"  ")),r.a.createElement("span",{className:u.a.itemText__first},"Name: ",r.a.createElement("span",{className:u.a.itemText__second},e.item.name," ")),r.a.createElement("span",{className:u.a.itemText__first},"Size: ",r.a.createElement("span",{className:u.a.itemText__second},e.item.size," byte ")),r.a.createElement("span",{className:u.a.itemText__first},"Type: ",r.a.createElement("span",{className:u.a.itemText__second},e.item.type)),r.a.createElement("span",{className:u.a.itemText__first},"Width: ",r.a.createElement("span",{className:u.a.itemText__second},a.width," pixels")),r.a.createElement("span",{className:u.a.itemText__first},"Height: ",r.a.createElement("span",{className:u.a.itemText__second},a.height," pixels")),r.a.createElement("button",{className:u.a.galleryItem__btn,onClick:function(){e.deleteGalleryItem(e.item.title)}},"Delete")))))},d=function(e){return console.log(e.item),r.a.createElement("div",{className:u.a.items__main},e.item.map((function(t){return r.a.createElement(p,{deleteGalleryItem:e.deleteGalleryItem,key:t.title,item:t})})))},f=a(90),g=a(91),y=function(e){if(!e)return"Please fill the field"},E=function(e){return function(t){if(t.length>e)return"max lenght is ".concat(e," symbols")}},v=a(66),b=function(e){var t=e.input,a=e.meta,n=Object(v.a)(e,["input","meta"]),l=a.touched&&a.error;return r.a.createElement("div",{className:u.a.formcontrol+" "+(l?u.a.error:"")},r.a.createElement("input",Object.assign({},t,n)),r.a.createElement("div",null,l&&r.a.createElement("span",null,a.error)))},h=function(e){var t=e.input,a=e.meta,n=Object(v.a)(e,["input","meta"]),l=a.touched&&a.error;return r.a.createElement("div",{className:u.a.formcontrol+" "+(l?u.a.error:"")},r.a.createElement("textarea",Object.assign({},t,n)),r.a.createElement("div",null,l&&r.a.createElement("span",null,a.error)))},x=function(e){var t=e.input,a=e.type,n=e.meta,l=n.touched&&n.error;return delete t.value,r.a.createElement("div",{className:u.a.formcontrol+" "+(l?u.a.error:"")},r.a.createElement("label",{htmlFor:t.name},r.a.createElement("input",Object.assign({},t,{type:a}))),r.a.createElement("div",null,l&&r.a.createElement("span",null,n.error)))},N=E(5),I=E(25),T=r.a.memo((function(e){return r.a.createElement("div",{className:u.a.item__form},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"".concat(u.a.item__title," ").concat(u.a.item__text)},r.a.createElement("label",{className:u.a.selectTitle},"Please write image title",r.a.createElement(f.a,{validate:[y,N],component:b,type:"text",name:"title"}))),r.a.createElement("div",{className:"".concat(u.a.item__descr," ").concat(u.a.item__text)},r.a.createElement("label",null,"Please write image description",r.a.createElement(f.a,{validate:[y,I],component:h,type:"text",name:"descr"}))),r.a.createElement("div",{className:"".concat(u.a.item__upload," ").concat(u.a.item__text)},r.a.createElement("label",{className:u.a.selectImage},"Select the image",r.a.createElement(f.a,{validate:[y],name:"file",type:"file",component:x}))),r.a.createElement("div",{className:u.a.form__submitBtn},r.a.createElement("button",null,"Submit"))))})),w=Object(g.a)({form:"imageForm"})(T),O=a(16),j=a(12),k=a.n(j),G=a(25),D=a(65),S=new(a(97).a)("ReactDexie");S.version(1).stores({items:"title, descr, img"}),S.open().catch((function(e){console.log(e.stack||e)}));var A=function(){var e=Object(G.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.items.toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(G.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.items.delete(t),e.next=3,S.items.toArray();case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=e.file[0];return new Promise((function(a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(n){var r=n.target.result,l={title:e.title,descr:e.descr,img:r,name:t.name,size:t.size,type:t.type};S.items.add(l).then(Object(G.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.items.toArray();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)}))))}}))},M={item:""},P=function(e){return{type:"GAL/GET_ITEM",item:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAL/GET_ITEM":return Object(D.a)(Object(D.a)({},e),{},{item:t.item});default:return e}},H=a(45),L=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.galleryInitializing()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:u.a.main__box},r.a.createElement("div",{className:u.a.mainTitle__box},r.a.createElement(w,{onSubmit:function(t){e.props.item.some((function(e){return e.title===t.title}))?alert("this title is already exist,please choose another one"):e.props.setGalleryItem(t),e.props.reset("imageForm")}})),r.a.createElement("div",{className:u.a.maxImg__box},r.a.createElement("p",{className:u.a.bot__title},"You can see description or delete/download image,just focus on it: "),this.props.item.length?r.a.createElement(d,{item:this.props.item,deleteGalleryItem:this.props.deleteGalleryItem}):r.a.createElement("h4",{className:u.a.botTitle},"Storage is empty you can upload something")))}}]),a}(r.a.Component),R=Object(O.b)((function(e){return{item:e.gallery.item}}),{reset:H.a,setGalleryItem:function(e){return function(){var t=Object(G.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e);case 2:n=t.sent,a(P(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},galleryInitializing:function(){return function(e){A().then((function(t){e(P(t))}))}},deleteGalleryItem:function(e){return function(t){B(e).then((function(e){t(P(e))}))}}})(L);var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(7),J=a(92),C=a(98),Q=Object(F.c)({gallery:W,form:J.a}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,X=Object(F.e)(Q,U(Object(F.a)(C.a)));i.a.render(r.a.createElement(O.a,{store:X},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},3:function(e,t,a){e.exports={main__box:"gallery_main__box__2HDVD",mainTitle__box:"gallery_mainTitle__box__2w_Vp",head__title:"gallery_head__title__3-iZV",bot__title:"gallery_bot__title__3oGZn",maxImg__box:"gallery_maxImg__box__IexUf",item__text:"gallery_item__text__2QrBD",item__form:"gallery_item__form__4Au6I",items__main:"gallery_items__main__aWQWJ",galleryItem__img:"gallery_galleryItem__img__itNY6",galleryItem__img__img:"gallery_galleryItem__img__img__5xqSH",selectImage:"gallery_selectImage__1hPV-",formcontrol:"gallery_formcontrol__2t5rK",error:"gallery_error__SIckv",selectTitle:"gallery_selectTitle__1-OWH",gallery__item:"gallery_gallery__item__2BLMT",form__submitBtn:"gallery_form__submitBtn__3D_cR",itemText__first:"gallery_itemText__first__3HaGf",itemText__second:"gallery_itemText__second__3jKD-",botTitle:"gallery_botTitle__3aMJX",galleryItem__descr:"gallery_galleryItem__descr__4aQcm"}}},[[126,1,2]]]);
//# sourceMappingURL=main.0b49c4f0.chunk.js.map