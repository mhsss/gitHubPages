(this.webpackJsonpdevit=this.webpackJsonpdevit||[]).push([[0],{126:function(e,t,a){e.exports=a(234)},131:function(e,t,a){},132:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(43),l=a.n(i),c=(a(131),a(132),a(93)),m=a(94),s=a(100),o=a(99),u=a(5),_=a.n(u),p=function(e){var t=e.item.img,a=new Image;return a.src=t,r.a.createElement("div",{className:_.a.gallery__item},r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:e.item.img})),r.a.createElement("div",null,r.a.createElement("a",{href:e.item.img,download:e.item.img},"Download"),r.a.createElement("span",{className:_.a.itemText__first},"Title: ",r.a.createElement("span",{className:_.a.itemText__second}," ",e.item.title," ")),r.a.createElement("span",{className:_.a.itemText__first},"Description: ",r.a.createElement("span",{className:_.a.itemText__second},e.item.descr,"  ")),r.a.createElement("span",{className:_.a.itemText__first},"Name: ",r.a.createElement("span",{className:_.a.itemText__second},e.item.name," ")),r.a.createElement("span",{className:_.a.itemText__first},"Size: ",r.a.createElement("span",{className:_.a.itemText__second},e.item.size," byte ")),r.a.createElement("span",{className:_.a.itemText__first},"Type: ",r.a.createElement("span",{className:_.a.itemText__second},e.item.type)),r.a.createElement("span",{className:_.a.itemText__first},"Width: ",r.a.createElement("span",{className:_.a.itemText__second},a.width," pixels")),r.a.createElement("span",{className:_.a.itemText__first},"Height: ",r.a.createElement("span",{className:_.a.itemText__second},a.height," pixels")),r.a.createElement("button",{onClick:function(){e.deleteGalleryItem(e.item.title)}},"Delete")))},d=function(e){return console.log(e.item),r.a.createElement("div",{className:_.a.items__main},e.item.map((function(t){return r.a.createElement(p,{deleteGalleryItem:e.deleteGalleryItem,key:t.title,item:t})})))},f=a(90),g=a(91),E=function(e){if(!e)return"Please fill the field"},h=function(e){return function(t){if(t.length>e)return"max lenght is ".concat(e," symbols")}},v=a(66),y=function(e){var t=e.input,a=e.meta,n=Object(v.a)(e,["input","meta"]),i=a.touched&&a.error;return r.a.createElement("div",{className:_.a.formcontrol+" "+(i?_.a.error:"")},r.a.createElement("input",Object.assign({},t,n)),r.a.createElement("div",null,i&&r.a.createElement("span",null,a.error)))},b=function(e){var t=e.input,a=e.meta,n=Object(v.a)(e,["input","meta"]),i=a.touched&&a.error;return r.a.createElement("div",{className:_.a.formcontrol+" "+(i?_.a.error:"")},r.a.createElement("textarea",Object.assign({},t,n)),r.a.createElement("div",null,i&&r.a.createElement("span",null,a.error)))},x=function(e){var t=e.input,a=e.type,n=e.meta,i=n.touched&&n.error;return delete t.value,r.a.createElement("div",{className:_.a.formcontrol+" "+(i?_.a.error:"")},r.a.createElement("label",{htmlFor:t.name},r.a.createElement("input",Object.assign({},t,{type:a}))),r.a.createElement("div",null,i&&r.a.createElement("span",null,n.error)))},N=h(5),T=h(25),w=r.a.memo((function(e){return r.a.createElement("div",{className:_.a.item__form},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"".concat(_.a.item__title," ").concat(_.a.item__text)},r.a.createElement("label",null,"Please write image title",r.a.createElement(f.a,{validate:[E,N],component:y,type:"text",name:"title"}))),r.a.createElement("div",{className:"".concat(_.a.item__descr," ").concat(_.a.item__text)},r.a.createElement("label",null,"Please write image description",r.a.createElement(f.a,{validate:[E,T],component:b,type:"text",name:"descr"}))),r.a.createElement("div",{className:"".concat(_.a.item__upload," ").concat(_.a.item__text)},r.a.createElement("label",{className:_.a.selectImage},"Select the image",r.a.createElement(f.a,{validate:[E],name:"file",type:"file",component:x}))),r.a.createElement("button",null,"Submit")))})),O=Object(g.a)({form:"imageForm"})(w),I=a(16),j=a(12),k=a.n(j),G=a(25),D=a(65),S=new(a(97).a)("ReactDexie");S.version(1).stores({items:"title, descr, img"}),S.open().catch((function(e){console.log(e.stack||e)}));var z=function(){var e=Object(G.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.items.toArray();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(G.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.items.delete(t),e.next=3,S.items.toArray();case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e.file[0];return new Promise((function(a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(n){var r=n.target.result,i={title:e.title,descr:e.descr,img:r,name:t.name,size:t.size,type:t.type};S.items.add(i).then(Object(G.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.items.toArray();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)}))))}}))},B={item:""},M=function(e){return{type:"GAL/GET_ITEM",item:e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GAL/GET_ITEM":return Object(D.a)(Object(D.a)({},e),{},{item:t.item});default:return e}},W=a(45),F=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.galleryInitializing()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",{className:_.a.head__title},"Please download the image"),r.a.createElement(O,{onSubmit:function(t){e.props.item.some((function(e){return e.title===t.title}))?alert("this title is already exist,please choose another one"):e.props.setGalleryItem(t),e.props.reset("imageForm")}}),r.a.createElement("h3",{className:_.a.bot__title},"Images: "),this.props.item.length?r.a.createElement(d,{item:this.props.item,deleteGalleryItem:this.props.deleteGalleryItem}):r.a.createElement("h4",{className:_.a.botTitle},"Storage is empty you can upload something"))}}]),a}(r.a.Component),J=Object(I.b)((function(e){return{item:e.gallery.item}}),{reset:W.a,setGalleryItem:function(e){return function(){var t=Object(G.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:n=t.sent,a(M(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},galleryInitializing:function(){return function(e){z().then((function(t){e(M(t))}))}},deleteGalleryItem:function(e){return function(t){A(e).then((function(e){t(M(e))}))}}})(F);var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(7),C=a(92),X=a(98),H=Object(V.c)({gallery:L,form:C.a}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,Q=Object(V.e)(H,K(Object(V.a)(X.a)));l.a.render(r.a.createElement(I.a,{store:Q},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports={addImgBtn:"gallery_addImgBtn__3xDvd",head__title:"gallery_head__title__3-iZV",bot__title:"gallery_bot__title__3oGZn",item__text:"gallery_item__text__2QrBD",item__form:"gallery_item__form__4Au6I",itemimage__size:"gallery_itemimage__size__3Vpg4",items__main:"gallery_items__main__aWQWJ",gallery__item:"gallery_gallery__item__2BLMT",selectImage:"gallery_selectImage__1hPV-",formcontrol:"gallery_formcontrol__2t5rK",error:"gallery_error__SIckv",itemText__first:"gallery_itemText__first__3HaGf",itemText__second:"gallery_itemText__second__3jKD-",botTitle:"gallery_botTitle__3aMJX"}}},[[126,1,2]]]);
//# sourceMappingURL=main.792918d3.chunk.js.map